{
  # Global options
  auto_https off
  admin 0.0.0.0:2019
}

# Local development configuration
localhost {
  # Simple reverse proxy to Next.js application container
  reverse_proxy web:8080 {
    transport http {
      read_timeout 30s
      dial_timeout  5s
    }
  }

  # Enable compression
  encode gzip

  # Logging
  log {
    output stdout
    format console
  }
}

# Health check endpoint
:8000 {
  respond /health "OK" 200
}
